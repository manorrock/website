<!DOCTYPE html>

<html>
    <head>
        <title>Hudson Tip #1 - Doing a release on Hudson using Maven 2</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link  href="../../../blog.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <h1>Hudson Tip #1 - Doing a release on Hudson using Maven 2</h1>
        <h2>Introduction</h2>
        <p>
            If you haven't figured out how to do a release using Maven 2 within
            Hudson this will explain it to you so you can set it up and then 
            have a one button release process.
        </p>
        <p>
            <i>
                -- Update -- this is one way of setting up the Maven 2 release 
                process, while it works it requires a bit more setup. Hudson 
                now also has a Maven 2 release plugin. Consider using that 
                instead!
            </i>
        </p>
        <h2>Requirements</h2>
        <ul>
            <li>Hudson</li>
            <li>Hudson Batch Task plugin</li>
            <li>Maven 2</li>
        </ul>
        <h2>Setup</h2>
        <p>
            Make sure that the user account Hudson is using has access to a 
            locally installed Maven 2. Verify this by logging in with that 
            account and issueing "mvn". If this does not work, make sure you 
            get this to work first.
        </p>
        <p>
            Within Hudson verify if your installation has the "batch-task" 
            plugin installed. See "Manage Hudson" and then "Manage Plugins" for
            more information. If the "batch-task" plugin is not installed, 
            install it and restart Hudson.
        </p>
        <p>
            And now it is time to get this done, open a project's configuration
            and look for the "Batch Tasks" checkbox. Click it and then fill 
            something similar in like what you see in the settings below. Since
            we use Subversion we need to make sure we pass in the Subversion
            username and password for the release plugin as you can see in the
            snippet below.
        </p>
        <pre>
Name:    Release
Script:  mvn --batch-mode -Dusername=username  
         -Dpassword=password release:prepare release:perform</pre>
        <p>
            This completes the configuration. And if you want to do a release, 
            then go to the project, click on "Task" and then on the "Execute" 
            button for the task and voila! If the release fails for some reason
            you can see what happened in the Output of the Task.
        </p>
        <p>
            You are now able to release using Maven 2 on Hudson.
        </p>
        <p>
            (Hudson 1.252+)
        </p>
        <p>
            Posted September 21, 2008
        </p>
        <p>
            <a href="../../../index.html">Up</a>
        </p>
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-10893862-1', 'auto');
            ga('send', 'pageview');

        </script>
    </body>
</html>
